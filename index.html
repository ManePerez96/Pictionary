<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pictionary M√≥vil PRO</title>
    <style>
        :root {
            --primary: #38b2ac;
            --secondary: #2c7a7b;
            --accent: #e53e3e;
            --bg: #f7fafc;
        }
        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }
        .app {
            background: white;
            width: 100%;
            max-width: 400px;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-height: 95vh;
            overflow-y: auto;
        }
        h1 { text-align: center; color: var(--secondary); margin-bottom: 15px; }
        .setup-section { border-bottom: 2px solid #eee; padding-bottom: 15px; margin-bottom: 15px; }
        label { font-size: 12px; font-weight: bold; color: #666; text-transform: uppercase; }
        select, input, button {
            width: 100%; padding: 12px; margin: 5px 0 12px;
            font-size: 16px; border-radius: 10px; border: 1px solid #ddd; box-sizing: border-box;
        }
        h2 { text-align: center; color: #1467f5; margin-bottom: 15px; }
        .setup-section { border-bottom: 2px solid #eee; padding-bottom: 15px; margin-bottom: 15px; }
        label { font-size: 12px; font-weight: bold; color: #666; text-transform: uppercase; }
        select, input, button {
            width: 100%; padding: 12px; margin: 5px 0 12px;
            font-size: 16px; border-radius: 10px; border: 1px solid #ddd; box-sizing: border-box;
        }
        .word-display {
            background: #fdfdfd; padding: 30px 15px; border-radius: 15px;
            text-align: center; margin: 15px 0; border: 3px solid var(--primary);
            min-height: 80px; display: flex; flex-direction: column; justify-content: center;
        }
        .word-display span { font-size: 28px; font-weight: bold; color: #2d3748; }
        .word-display small { color: var(--secondary); font-style: italic; font-size: 18px; margin-top: 5px; }
        .timer { text-align: center; font-size: 24px; font-weight: bold; color: var(--accent); height: 35px; margin-bottom: 10px; }
        .counter { text-align: right; font-size: 11px; color: #888; }
        
        button { background: var(--primary); color: white; border: none; font-weight: bold; cursor: pointer; }
        button:active { transform: scale(0.98); }
        .btn-add { background: #4a5568; margin-top: 0; }
        .btn-reset { background: #edf2f7; color: #4a5568; font-size: 13px; }
        
        .add-custom { background: #f8f9fa; padding: 15px; border-radius: 10px; margin-top: 20px; border: 1px dashed #ccc; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div class="app">
    <h1>üé® Pictionary</h1>
    <h2>Dayana & Mateo</h2>
    <div class="setup-section">
        <label>Configuraci√≥n</label>
        <select id="category">
            <option value="all">Todas las categor√≠as</option>
            <option value="navidad">Navidad</option>
            <option value="objetos">Objetos</option>
            <option value="acciones">Acciones</option>
            <option value="animales">Animales</option>
            <option value="comida">Comida</option>
            <option value="personalizado">Mis Palabras ‚ú®</option>
        </select>

        <select id="time">
            <option value="0">Sin tiempo</option>
            <option value="30">30 Segundos</option>
            <option value="60">60 Segundos</option>
            <option value="90">90 Segundos</option>
        </select>
    </div>

    <div class="timer" id="timer"></div>

    <div class="word-display" id="wordBox">
        <span>¬°Listos!</span>
        <small>Presiona Generar</small>
    </div>
    
    <div class="counter" id="counter">Restantes: --</div>

    <button onclick="generateWord()">SIGUIENTE PALABRA</button>
    <button class="btn-reset" onclick="resetGame()">REINICIAR JUEGO / MAZO</button>

    <div class="add-custom">
        <label>A√±adir mi propia palabra</label>
        <input type="text" id="newEs" placeholder="Espa√±ol (ej: Computadora)">
        <input type="text" id="newEn" placeholder="Ingl√©s (ej: Computer)">
        <button class="btn-add" onclick="addCustomWord()">+ Guardar Palabra</button>
    </div>
</div>

<script>
    // Base de datos base (Simplificada para el ejemplo, pero estructurada para 500+)
    const baseWords = [
       // {es:"Pap√° Noel", en:"Santa Claus", cat:"navidad", diff:"kids"},
       // {es:"Reno", en:"Reindeer", cat:"navidad", diff:"kids"},
       // {es:"Pavo", en:"Turkey", cat:"comida", diff:"kids"},
       // {es:"Manzana", en:"Apple", cat:"comida", diff:"kids"},
       // {es:"Le√≥n", en:"Lion", cat:"animales", diff:"kids"},
       // {es:"Bailar", en:"Dance", cat:"acciones", diff:"kids"},
        //{es:"Cuchara", en:"Spoon", cat:"objetos", diff:"kids"},
        //{es:"Escalar", en:"Climb", cat:"acciones", diff:"hard"},
        {es:"√Årbol de Navidad", en:"Christmas Tree", cat:"navidad", diff:"kids"},
        {es:"Pap√° Noel", en:"Santa Claus", cat:"navidad", diff:"kids"},
        {es:"Regalo", en:"Gift", cat:"navidad", diff:"kids"},
        {es:"Estrella", en:"Star", cat:"navidad", diff:"kids"},
        {es:"Reno", en:"Reindeer", cat:"navidad", diff:"kids"},
        {es:"Mu√±eco de nieve", en:"Snowman", cat:"navidad", diff:"kids"},
        {es:"Campana", en:"Bell", cat:"navidad", diff:"kids"},
        {es:"Bota de Navidad", en:"Stocking", cat:"navidad", diff:"kids"},
        {es:"Trineo", en:"Sleigh", cat:"navidad", diff:"kids"},
        {es:"Copo de nieve", en:"Snowflake", cat:"navidad", diff:"kids"},
        {es:"Bast√≥n de caramelo", en:"Candy cane", cat:"navidad", diff:"kids"},
        {es:"Luces", en:"Lights", cat:"navidad", diff:"kids"},
        {es:"Esfera", en:"Ornament", cat:"navidad", diff:"kids"},
        {es:"√Ångel", en:"Angel", cat:"navidad", diff:"kids"},
        {es:"Gorro de Santa", en:"Santa hat", cat:"navidad", diff:"kids"},
        {es:"Chimenea", en:"Chimney", cat:"navidad", diff:"kids"},
        {es:"Duende", en:"Elf", cat:"navidad", diff:"kids"},
        {es:"Galleta", en:"Cookie", cat:"navidad", diff:"kids"},
        {es:"Nieve", en:"Snow", cat:"navidad", diff:"kids"},
        {es:"Corona", en:"Wreath", cat:"navidad", diff:"kids"},
        {es:"Vela", en:"Candle", cat:"navidad", diff:"kids"},
        {es:"Carta", en:"Letter", cat:"navidad", diff:"kids"},
        {es:"Mo√±o", en:"Bow", cat:"navidad", diff:"kids"},
        {es:"Pavo", en:"Turkey", cat:"navidad", diff:"kids"},
        {es:"Chocolate caliente", en:"Hot chocolate", cat:"navidad", diff:"kids"},
        {es:"Campanilla", en:"Jingle bell", cat:"navidad", diff:"kids"},
        {es:"Saco", en:"Sack", cat:"navidad", diff:"kids"},
        {es:"Burro", en:"Donkey", cat:"navidad", diff:"kids"},
        {es:"Estrella de Bel√©n", en:"Star of Bethlehem", cat:"navidad", diff:"kids"},
        {es:"Reyes Magos", en:"Three Wise Men", cat:"navidad", diff:"kids"},
        {es:"Pesebre", en:"Manger", cat:"navidad", diff:"kids"},
        {es:"Nariz roja", en:"Red nose", cat:"navidad", diff:"kids"},
        {es:"Polo Norte", en:"North Pole", cat:"navidad", diff:"kids"},
        {es:"Juguete", en:"Toy", cat:"navidad", diff:"kids"},
        {es:"Cantar", en:"Sing", cat:"navidad", diff:"kids"},
        {es:"Abrazo", en:"Hug", cat:"navidad", diff:"kids"},
        {es:"Familia", en:"Family", cat:"navidad", diff:"kids"},
        {es:"Cena", en:"Dinner", cat:"navidad", diff:"kids"},
        {es:"Pi√±ata", en:"Pi√±ata", cat:"navidad", diff:"kids"},
        {es:"Fuegos artificiales", en:"Fireworks", cat:"navidad", diff:"kids"},
        {es:"Reloj", en:"Clock", cat:"navidad", diff:"kids"},
        {es:"Uvas", en:"Grapes", cat:"navidad", diff:"kids"},
        {es:"Bufanda", en:"Scarf", cat:"navidad", diff:"kids"},
        {es:"Guantes", en:"Gloves", cat:"navidad", diff:"kids"},
        {es:"Leche", en:"Milk", cat:"navidad", diff:"kids"},
        {es:"Pino", en:"Pine tree", cat:"navidad", diff:"kids"},
        {es:"Grinch", en:"Grinch", cat:"navidad", diff:"kids"},
        {es:"Papel de regalo", en:"Wrapping paper", cat:"navidad", diff:"kids"},
        {es:"Tarjeta", en:"Card", cat:"navidad", diff:"kids"},
        {es:"Sorpresa", en:"Surprise", cat:"navidad", diff:"kids"},
       
        // Se pueden a√±adir cientos m√°s siguiendo este formato...
        // Objetos
        {es:"Silla", en:"Chair", cat:"objetos", diff:"kids"},
        {es:"Mesa", en:"Table", cat:"objetos", diff:"kids"},
        {es:"Cama", en:"Bed", cat:"objetos", diff:"kids"},
        {es:"Puerta", en:"Door", cat:"objetos", diff:"kids"},
        {es:"Ventana", en:"Window", cat:"objetos", diff:"kids"},
        {es:"Cuchara", en:"Spoon", cat:"objetos", diff:"kids"},
        {es:"Tenedor", en:"Fork", cat:"objetos", diff:"kids"},
        {es:"Cuchillo", en:"Knife", cat:"objetos", diff:"kids"},
        {es:"Plato", en:"Plate", cat:"objetos", diff:"kids"},
        {es:"Vaso", en:"Glass", cat:"objetos", diff:"kids"},
        {es:"Taza", en:"Cup", cat:"objetos", diff:"kids"},
        {es:"Sof√°", en:"Sofa", cat:"objetos", diff:"kids"},
        {es:"Televisi√≥n", en:"TV", cat:"objetos", diff:"kids"},
        {es:"Tel√©fono", en:"Phone", cat:"objetos", diff:"kids"},
        {es:"Reloj", en:"Clock", cat:"objetos", diff:"kids"},
        {es:"Espejo", en:"Mirror", cat:"objetos", diff:"kids"},
        {es:"L√°mpara", en:"Lamp", cat:"objetos", diff:"kids"},
        {es:"Almohada", en:"Pillow", cat:"objetos", diff:"kids"},
        {es:"Cobija", en:"Blanket", cat:"objetos", diff:"kids"},
        {es:"Toalla", en:"Towel", cat:"objetos", diff:"kids"},
        {es:"Cepillo", en:"Brush", cat:"objetos", diff:"kids"},
        {es:"Jab√≥n", en:"Soap", cat:"objetos", diff:"kids"},
        {es:"Peine", en:"Comb", cat:"objetos", diff:"kids"},
        {es:"Libro", en:"Book", cat:"objetos", diff:"kids"},
        {es:"L√°piz", en:"Pencil", cat:"objetos", diff:"kids"},
        {es:"Papel", en:"Paper", cat:"objetos", diff:"kids"},
        {es:"Mochila", en:"Backpack", cat:"objetos", diff:"kids"},
        {es:"Llave", en:"Key", cat:"objetos", diff:"kids"},
        {es:"Computadora", en:"Computer", cat:"objetos", diff:"kids"},
        {es:"Radio", en:"Radio", cat:"objetos", diff:"kids"},
        {es:"Escoba", en:"Broom", cat:"objetos", diff:"kids"},
        {es:"Cubeta", en:"Bucket", cat:"objetos", diff:"kids"},
        {es:"Martillo", en:"Hammer", cat:"objetos", diff:"kids"},
        {es:"Tijeras", en:"Scissors", cat:"objetos", diff:"kids"},
        {es:"Paraguas", en:"Umbrella", cat:"objetos", diff:"kids"},
        {es:"Bolsa", en:"Bag", cat:"objetos", diff:"kids"},
        {es:"Cartera", en:"Wallet", cat:"objetos", diff:"kids"},
        {es:"Gafas", en:"Glasses", cat:"objetos", diff:"kids"},
        {es:"Zapatos", en:"Shoes", cat:"objetos", diff:"kids"},
        {es:"Calcetines", en:"Socks", cat:"objetos", diff:"kids"},
        {es:"Camisa", en:"Shirt", cat:"objetos", diff:"kids"},
        {es:"Pantalones", en:"Pants", cat:"objetos", diff:"kids"},
        {es:"Sombrero", en:"Hat", cat:"objetos", diff:"kids"},
        {es:"Reloj de pulsera", en:"Watch", cat:"objetos", diff:"kids"},
        {es:"Caja", en:"Box", cat:"objetos", diff:"kids"},
        {es:"Botella", en:"Bottle", cat:"objetos", diff:"kids"},
        {es:"Basura", en:"Trash", cat:"objetos", diff:"kids"},
        {es:"Escritorio", en:"Desk", cat:"objetos", diff:"kids"},
        {es:"Cama", en:"Bed", cat:"objetos", diff:"kids"},
        {es:"Juguete", en:"Toy", cat:"objetos", diff:"kids"},

        //Comidas
        {es:"Manzana", en:"Apple", cat:"comida", diff:"kids"},
        {es:"Pl√°tano", en:"Banana", cat:"comida", diff:"kids"},
        {es:"Pizza", en:"Pizza", cat:"comida", diff:"kids"},
        {es:"Hamburguesa", en:"Hamburger", cat:"comida", diff:"kids"},
        {es:"Huevo", en:"Egg", cat:"comida", diff:"kids"},
        {es:"Pan", en:"Bread", cat:"comida", diff:"kids"},
        {es:"Leche", en:"Milk", cat:"comida", diff:"kids"},
        {es:"Queso", en:"Cheese", cat:"comida", diff:"kids"},
        {es:"Pastel", en:"Cake", cat:"comida", diff:"kids"},
        {es:"Helado", en:"Ice cream", cat:"comida", diff:"kids"},
        {es:"Pollo", en:"Chicken", cat:"comida", diff:"kids"},
        {es:"Pescado", en:"Fish", cat:"comida", diff:"kids"},
        {es:"Uvas", en:"Grapes", cat:"comida", diff:"kids"},
        {es:"Sand√≠a", en:"Watermelon", cat:"comida", diff:"kids"},
        {es:"Zanahoria", en:"Carrot", cat:"comida", diff:"kids"},
        {es:"Tomate", en:"Tomato", cat:"comida", diff:"kids"},
        {es:"Papa", en:"Potato", cat:"comida", diff:"kids"},
        {es:"Sopa", en:"Soup", cat:"comida", diff:"kids"},
        {es:"Arroz", en:"Rice", cat:"comida", diff:"kids"},
        {es:"Espagueti", en:"Spaghetti", cat:"comida", diff:"kids"},
        {es:"Ensalada", en:"Salad", cat:"comida", diff:"kids"},
        {es:"Jugo", en:"Juice", cat:"comida", diff:"kids"},
        {es:"Agua", en:"Water", cat:"comida", diff:"kids"},
        {es:"Galleta", en:"Cookie", cat:"comida", diff:"kids"},
        {es:"Chocolate", en:"Chocolate", cat:"comida", diff:"kids"},
        {es:"Dulce", en:"Candy", cat:"comida", diff:"kids"},
        {es:"Fresa", en:"Strawberry", cat:"comida", diff:"kids"},
        {es:"Naranja", en:"Orange", cat:"comida", diff:"kids"},
        {es:"Pera", en:"Pear", cat:"comida", diff:"kids"},
        {es:"Donas", en:"Donuts", cat:"comida", diff:"kids"},
        {es:"Sandwich", en:"Sandwich", cat:"comida", diff:"kids"},
        {es:"Papas fritas", en:"French fries", cat:"comida", diff:"kids"},
        {es:"Ma√≠z", en:"Corn", cat:"comida", diff:"kids"},
        {es:"Br√≥coli", en:"Broccoli", cat:"comida", diff:"kids"},
        {es:"Carne", en:"Meat", cat:"comida", diff:"kids"},
        {es:"Salchicha", en:"Sausage", cat:"comida", diff:"kids"},
        {es:"Huevo frito", en:"Fried egg", cat:"comida", diff:"kids"},
        {es:"Taco", en:"Taco", cat:"comida", diff:"kids"},
        {es:"Lim√≥n", en:"Lemon", cat:"comida", diff:"kids"},
        {es:"Cereza", en:"Cherry", cat:"comida", diff:"kids"},
        {es:"Pi√±a", en:"Pineapple", cat:"comida", diff:"kids"},
        {es:"Cebolla", en:"Onion", cat:"comida", diff:"kids"},
        {es:"Miel", en:"Honey", cat:"comida", diff:"kids"},
        {es:"Mermelada", en:"Jam", cat:"comida", diff:"kids"},
        {es:"Mantequilla", en:"Butter", cat:"comida", diff:"kids"},
        {es:"Piruleta", en:"Lollipop", cat:"comida", diff:"kids"},
        {es:"Perrito caliente", en:"Hot dog", cat:"comida", diff:"kids"},
        {es:"Refresco", en:"Soda", cat:"comida", diff:"kids"},
        {es:"Tostada", en:"Toast", cat:"comida", diff:"kids"},
        {es:"Cereal", en:"Cereal", cat:"comida", diff:"kids"},
        //Animales
        {es:"Perro", en:"Dog", cat:"animales", diff:"kids"},
        {es:"Gato", en:"Cat", cat:"animales", diff:"kids"},
        {es:"Le√≥n", en:"Lion", cat:"animales", diff:"kids"},
        {es:"Elefante", en:"Elephant", cat:"animales", diff:"kids"},
        {es:"Jirafa", en:"Giraffe", cat:"animales", diff:"kids"},
        {es:"Mono", en:"Monkey", cat:"animales", diff:"kids"},
        {es:"Oso", en:"Bear", cat:"animales", diff:"kids"},
        {es:"Tigre", en:"Tiger", cat:"animales", diff:"kids"},
        {es:"Cebra", en:"Zebra", cat:"animales", diff:"kids"},
        {es:"Conejo", en:"Rabbit", cat:"animales", diff:"kids"},
        {es:"Vaca", en:"Cow", cat:"animales", diff:"kids"},
        {es:"Cerdo", en:"Pig", cat:"animales", diff:"kids"},
        {es:"Oveja", en:"Sheep", cat:"animales", diff:"kids"},
        {es:"Caballo", en:"Horse", cat:"animales", diff:"kids"},
        {es:"Gallina", en:"Chicken", cat:"animales", diff:"kids"},
        {es:"Pato", en:"Duck", cat:"animales", diff:"kids"},
        {es:"P√°jaro", en:"Bird", cat:"animales", diff:"kids"},
        {es:"Pez", en:"Fish", cat:"animales", diff:"kids"},
        {es:"Tibur√≥n", en:"Shark", cat:"animales", diff:"kids"},
        {es:"Ballena", en:"Whale", cat:"animales", diff:"kids"},
        {es:"Delf√≠n", en:"Dolphin", cat:"animales", diff:"kids"},
        {es:"Tortuga", en:"Turtle", cat:"animales", diff:"kids"},
        {es:"Serpiente", en:"Snake", cat:"animales", diff:"kids"},
        {es:"Cocodrilo", en:"Crocodile", cat:"animales", diff:"kids"},
        {es:"Rana", en:"Frog", cat:"animales", diff:"kids"},
        {es:"Mariposa", en:"Butterfly", cat:"animales", diff:"kids"},
        {es:"Abeja", en:"Bee", cat:"animales", diff:"kids"},
        {es:"Ara√±a", en:"Spider", cat:"animales", diff:"kids"},
        {es:"Hormiga", en:"Ant", cat:"animales", diff:"kids"},
        {es:"Rat√≥n", en:"Mouse", cat:"animales", diff:"kids"},
        {es:"Ardilla", en:"Squirrel", cat:"animales", diff:"kids"},
        {es:"Ping√ºino", en:"Penguin", cat:"animales", diff:"kids"},
        {es:"Canguro", en:"Kangaroo", cat:"animales", diff:"kids"},
        {es:"Hipop√≥tamo", en:"Hippo", cat:"animales", diff:"kids"},
        {es:"Rinoceronte", en:"Rhino", cat:"animales", diff:"kids"},
        {es:"Lobo", en:"Wolf", cat:"animales", diff:"kids"},
        {es:"Zorro", en:"Fox", cat:"animales", diff:"kids"},
        {es:"B√∫ho", en:"Owl", cat:"animales", diff:"kids"},
        {es:"Murci√©lago", en:"Bat", cat:"animales", diff:"kids"},
        {es:"Caracol", en:"Snail", cat:"animales", diff:"kids"},
        {es:"Cangrejo", en:"Crab", cat:"animales", diff:"kids"},
        {es:"Pulpo", en:"Octopus", cat:"animales", diff:"kids"},
        {es:"Medusa", en:"Jellyfish", cat:"animales", diff:"kids"},
        {es:"Camello", en:"Camel", cat:"animales", diff:"kids"},
        {es:"Cebra", en:"Zebra", cat:"animales", diff:"kids"},
        {es:"Panda", en:"Panda", cat:"animales", diff:"kids"},
        {es:"Koala", en:"Koala", cat:"animales", diff:"kids"},
        {es:"Loro", en:"Parrot", cat:"animales", diff:"kids"},
        {es:"Pavo real", en:"Peacock", cat:"animales", diff:"kids"},
        {es:"Flamenco", en:"Flamingo", cat:"animales", diff:"kids"},

        //Acciones 
        {es:"Bailar", en:"Dance", cat:"acciones", diff:"kids"},
        {es:"Cantar", en:"Sing", cat:"acciones", diff:"kids"},
        {es:"Correr", en:"Run", cat:"acciones", diff:"kids"},
        {es:"Saltar", en:"Jump", cat:"acciones", diff:"kids"},
        {es:"Dormir", en:"Sleep", cat:"acciones", diff:"kids"},
        {es:"Comer", en:"Eat", cat:"acciones", diff:"kids"},
        {es:"Beber", en:"Drink", cat:"acciones", diff:"kids"},
        {es:"Llorar", en:"Cry", cat:"acciones", diff:"kids"},
        {es:"Re√≠r", en:"Laugh", cat:"acciones", diff:"kids"},
        {es:"Nadar", en:"Swim", cat:"acciones", diff:"kids"},
        {es:"Escribir", en:"Write", cat:"acciones", diff:"kids"},
        {es:"Leer", en:"Read", cat:"acciones", diff:"kids"},
        {es:"Dibujar", en:"Draw", cat:"acciones", diff:"kids"},
        {es:"Pintar", en:"Paint", cat:"acciones", diff:"kids"},
        {es:"Caminar", en:"Walk", cat:"acciones", diff:"kids"},
        {es:"Patinar", en:"Skate", cat:"acciones", diff:"kids"},
        {es:"Volar", en:"Fly", cat:"acciones", diff:"kids"},
        {es:"Cocinar", en:"Cook", cat:"acciones", diff:"kids"},
        {es:"Limpiar", en:"Clean", cat:"acciones", diff:"kids"},
        {es:"Ba√±arse", en:"Bathe", cat:"acciones", diff:"kids"},
        {es:"Peinar", en:"Comb", cat:"acciones", diff:"kids"},
        {es:"Aplaudir", en:"Clap", cat:"acciones", diff:"kids"},
        {es:"Abrazar", en:"Hug", cat:"acciones", diff:"kids"},
        {es:"Besar", en:"Kiss", cat:"acciones", diff:"kids"},
        {es:"Gritar", en:"Shout", cat:"acciones", diff:"kids"},
        {es:"Escalar", en:"Climb", cat:"acciones", diff:"kids"},
        {es:"Pescar", en:"Fish", cat:"acciones", diff:"kids"},
        {es:"Cazar", en:"Hunt", cat:"acciones", diff:"kids"},
        {es:"Esconderse", en:"Hide", cat:"acciones", diff:"kids"},
        {es:"Buscar", en:"Search", cat:"acciones", diff:"kids"},
        {es:"Lanzar", en:"Throw", cat:"acciones", diff:"kids"},
        {es:"Atrapar", en:"Catch", cat:"acciones", diff:"kids"},
        {es:"Patear", en:"Kick", cat:"acciones", diff:"kids"},
        {es:"Empujar", en:"Push", cat:"acciones", diff:"kids"},
        {es:"Jalar", en:"Pull", cat:"acciones", diff:"kids"},
        {es:"Abrir", en:"Open", cat:"acciones", diff:"kids"},
        {es:"Cerrar", en:"Close", cat:"acciones", diff:"kids"},
        {es:"Subir", en:"Go up", cat:"acciones", diff:"kids"},
        {es:"Bajar", en:"Go down", cat:"acciones", diff:"kids"},
        {es:"Cortar", en:"Cut", cat:"acciones", diff:"kids"},
        {es:"Coser", en:"Sew", cat:"acciones", diff:"kids"},
        {es:"Cavar", en:"Dig", cat:"acciones", diff:"kids"},
        {es:"Plantar", en:"Plant", cat:"acciones", diff:"kids"},
        {es:"Regar", en:"Water", cat:"acciones", diff:"kids"},
        {es:"Varrer", en:"Sweep", cat:"acciones", diff:"kids"},
        {es:"So√±ar", en:"Dream", cat:"acciones", diff:"kids"},
        {es:"Pensar", en:"Think", cat:"acciones", diff:"kids"},
        {es:"Mirar", en:"Watch", cat:"acciones", diff:"kids"},
        {es:"Escuchar", en:"Listen", cat:"acciones", diff:"kids"},
        {es:"Tocar", en:"Touch", cat:"acciones", diff:"kids"},
    ];

    // Generador de palabras adicionales para llegar a las 500 r√°pidamente en la l√≥gica
    /*const categories = ["objetos", "animales", "comida", "acciones"];
    for(let i=0; i<450; i++) {
        baseWords.push({
            es: `Palabra Extra ${i+1}`, 
            en: `Extra Word ${i+1}`, 
            cat: categories[Math.floor(Math.random()*categories.length)], 
            diff: i % 5 === 0 ? "hard" : "kids"
        });
    }*/

    let availableWords = [];
    let usedWords = [];
    let countdown;

    // Cargar palabras personalizadas de LocalStorage
    function getCustomWords() {
        const stored = localStorage.getItem('customPictionary');
        return stored ? JSON.parse(stored) : [];
    }

    function initPool() {
        const custom = getCustomWords();
        availableWords = [...baseWords, ...custom];
        updateCounter();
    }

    function generateWord() {
        clearInterval(countdown);
        document.getElementById("timer").innerText = "";

        const catFilter = document.getElementById("category").value;
        const timeLimit = parseInt(document.getElementById("time").value);

        // Filtrar del mazo de disponibles
        let pool = availableWords.filter(w => (catFilter === "all" || w.cat === catFilter));

        if (pool.length === 0) {
            document.getElementById("wordBox").innerHTML = "<span>¬°Mazo terminado!</span><small>Reinicia para volver a empezar</small>";
            return;
        }

        const randomIndex = Math.floor(Math.random() * pool.length);
        const selected = pool[randomIndex];

        // Mover de disponibles a usados para que NO vuelva a salir
        availableWords = availableWords.filter(w => w !== selected);
        usedWords.push(selected);

        document.getElementById("wordBox").innerHTML = `<span>${selected.es}</span><small>${selected.en}</small>`;
        updateCounter();

        if (timeLimit > 0) startTimer(timeLimit);
    }

    function startTimer(seconds) {
        let s = seconds;
        document.getElementById("timer").innerText = `‚è±Ô∏è ${s}s`;
        countdown = setInterval(() => {
            s--;
            document.getElementById("timer").innerText = `‚è±Ô∏è ${s}s`;
            if (s <= 0) {
                clearInterval(countdown);
                document.getElementById("timer").innerText = "‚è∞ ¬°TIEMPO!";
                navigator.vibrate ? navigator.vibrate(200) : null;
            }
        }, 1000);
    }

    function addCustomWord() {
        const es = document.getElementById("newEs").value.trim();
        const en = document.getElementById("newEn").value.trim();
        if(!es || !en) return alert("Escribe la palabra en ambos idiomas");
        const newWord = { es, en, cat: "personalizado", diff: "hard" };
        const custom = getCustomWords();
        custom.push(newWord);
        localStorage.setItem('customPictionary', JSON.stringify(custom));
        availableWords.push(newWord);   
        document.getElementById("newEs").value = "";
        document.getElementById("newEn").value = "";
        updateCounter();
        alert("Palabra guardada en 'Mis Palabras'");
    }
    function updateCounter() {
        document.getElementById("counter").innerText = `Restantes: ${availableWords.length}`;
    }
    function resetGame() {
        if(confirm("¬øQuieres reiniciar el mazo? Las palabras volver√°n a salir.")) {
            clearInterval(countdown);
            initPool();
            document.getElementById("wordBox").innerHTML = "<span>¬°Mazo Reiniciado!</span><small>Presiona Generar</small>";
            document.getElementById("timer").innerText = "";
        }
    }
    // Iniciar al cargar
    initPool();
</script>
</body>
</html>